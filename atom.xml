<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ANGING BLOG</title>
  
  <subtitle>个人博客</subtitle>
  <link href="https://ang-ing.github.io/atom.xml" rel="self"/>
  
  <link href="https://ang-ing.github.io/"/>
  <updated>2024-09-10T08:00:26.319Z</updated>
  <id>https://ang-ing.github.io/</id>
  
  <author>
    <name>anging</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>输出项目文件目录</title>
    <link href="https://ang-ing.github.io/2024/09/10/%E8%BE%93%E5%87%BA%E9%A1%B9%E7%9B%AE%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95/"/>
    <id>https://ang-ing.github.io/2024/09/10/%E8%BE%93%E5%87%BA%E9%A1%B9%E7%9B%AE%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95/</id>
    <published>2024-09-10T07:59:31.000Z</published>
    <updated>2024-09-10T08:00:26.319Z</updated>
    
    <content type="html"><![CDATA[<h1 id="输出项目文件目录"><a href="#输出项目文件目录" class="headerlink" title="输出项目文件目录"></a>输出项目文件目录</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># 需要排除的目录列表</span></span><br><span class="line">exclude_dirs = [<span class="string">&#x27;venv&#x27;</span>, <span class="string">&#x27;node_modules&#x27;</span>, <span class="string">&#x27;.git&#x27;</span>, <span class="string">&quot;__pycache__&quot;</span>, <span class="string">&quot;.pytest_cache&quot;</span>, <span class="string">&quot;.idea&quot;</span>, <span class="string">&quot;.gitlab-ci.yml&quot;</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">print_directory_tree</span>(<span class="params">root_dir, indent=<span class="string">&quot;&quot;</span></span>):</span><br><span class="line">    files = os.listdir(root_dir)</span><br><span class="line">    <span class="keyword">for</span> i, file <span class="keyword">in</span> <span class="built_in">enumerate</span>(files):</span><br><span class="line">        path = os.path.join(root_dir, file)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 排除不需要的目录</span></span><br><span class="line">        <span class="keyword">if</span> file <span class="keyword">in</span> exclude_dirs:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">        is_last = (i == <span class="built_in">len</span>(files) - <span class="number">1</span>)</span><br><span class="line">        prefix = <span class="string">&quot;└── &quot;</span> <span class="keyword">if</span> is_last <span class="keyword">else</span> <span class="string">&quot;├── &quot;</span></span><br><span class="line">        <span class="built_in">print</span>(indent + prefix + file)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 如果是文件夹且不在排除列表中，递归打印其子目录</span></span><br><span class="line">        <span class="keyword">if</span> os.path.isdir(path):</span><br><span class="line">            sub_indent = <span class="string">&quot;    &quot;</span> <span class="keyword">if</span> is_last <span class="keyword">else</span> <span class="string">&quot;│   &quot;</span></span><br><span class="line">            print_directory_tree(path, indent + sub_indent)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用函数展示当前目录</span></span><br><span class="line">print_directory_tree(<span class="string">&quot;.&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;输出项目文件目录&quot;&gt;&lt;a href=&quot;#输出项目文件目录&quot; class=&quot;headerlink&quot; title=&quot;输出项目文件目录&quot;&gt;&lt;/a&gt;输出项目文件目录&lt;/h1&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td c</summary>
      
    
    
    
    
    <category term="python" scheme="https://ang-ing.github.io/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>js逆向代理监听</title>
    <link href="https://ang-ing.github.io/2024/09/08/js%E9%80%86%E5%90%91%E4%BB%A3%E7%90%86%E7%9B%91%E5%90%AC/"/>
    <id>https://ang-ing.github.io/2024/09/08/js%E9%80%86%E5%90%91%E4%BB%A3%E7%90%86%E7%9B%91%E5%90%AC/</id>
    <published>2024-09-08T01:10:15.000Z</published>
    <updated>2024-09-08T05:54:04.475Z</updated>
    
    <content type="html"><![CDATA[<h1 id="js逆向代理监听"><a href="#js逆向代理监听" class="headerlink" title="js逆向代理监听"></a>js逆向代理监听</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getEnvs</span>(<span class="params">proxyObjs</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; proxyObjs.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">const</span> handler = <span class="string">`&#123;</span></span><br><span class="line"><span class="string">      get: function(target, property, receiver) &#123;</span></span><br><span class="line"><span class="string">        console.log(&quot;方法:&quot;, &quot;get  &quot;, &quot;对象:&quot;, &quot;<span class="subst">$&#123;proxyObjs[i]&#125;</span>&quot;, &quot;  属性:&quot;, property, &quot;  属性类型：&quot;, typeof property, &quot;, 属性值：&quot;, target[property], &quot;, 属性值类型：&quot;, typeof target[property]);</span></span><br><span class="line"><span class="string">        return target[property];</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      set: function(target, property, value, receiver) &#123;</span></span><br><span class="line"><span class="string">        console.log(&quot;方法:&quot;, &quot;set  &quot;, &quot;对象:&quot;, &quot;<span class="subst">$&#123;proxyObjs[i]&#125;</span>&quot;, &quot;  属性:&quot;, property, &quot;  属性类型：&quot;, typeof property, &quot;, 属性值：&quot;, value, &quot;, 属性值类型：&quot;, typeof target[property]);</span></span><br><span class="line"><span class="string">        return Reflect.set(...arguments);</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;`</span>;</span><br><span class="line">        <span class="built_in">eval</span>(<span class="string">`try &#123;</span></span><br><span class="line"><span class="string">            <span class="subst">$&#123;proxyObjs[i]&#125;</span>;</span></span><br><span class="line"><span class="string">            <span class="subst">$&#123;proxyObjs[i]&#125;</span> = new Proxy(<span class="subst">$&#123;proxyObjs[i]&#125;</span>, <span class="subst">$&#123;handler&#125;</span>);</span></span><br><span class="line"><span class="string">        &#125; catch (e) &#123;</span></span><br><span class="line"><span class="string">            <span class="subst">$&#123;proxyObjs[i]&#125;</span> = &#123;&#125;;</span></span><br><span class="line"><span class="string">            <span class="subst">$&#123;proxyObjs[i]&#125;</span> = new Proxy(<span class="subst">$&#123;proxyObjs[i]&#125;</span>, <span class="subst">$&#123;handler&#125;</span>);</span></span><br><span class="line"><span class="string">        &#125;`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">proxyObjs = [<span class="string">&#x27;window&#x27;</span>, <span class="string">&#x27;document&#x27;</span>, <span class="string">&#x27;location&#x27;</span>, <span class="string">&#x27;navigator&#x27;</span>, <span class="string">&#x27;history&#x27;</span>, <span class="string">&#x27;screen&#x27;</span>]</span><br><span class="line"><span class="title function_">getEnvs</span>(proxyObjs);</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;js逆向代理监听&quot;&gt;&lt;a href=&quot;#js逆向代理监听&quot; class=&quot;headerlink&quot; title=&quot;js逆向代理监听&quot;&gt;&lt;/a&gt;js逆向代理监听&lt;/h1&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;</summary>
      
    
    
    
    
    <category term="js逆向" scheme="https://ang-ing.github.io/tags/js%E9%80%86%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>JS逆向通用hook脚本</title>
    <link href="https://ang-ing.github.io/2024/09/06/JS%E9%80%86%E5%90%91%E9%80%9A%E7%94%A8hook%E8%84%9A%E6%9C%AC/"/>
    <id>https://ang-ing.github.io/2024/09/06/JS%E9%80%86%E5%90%91%E9%80%9A%E7%94%A8hook%E8%84%9A%E6%9C%AC/</id>
    <published>2024-09-06T11:05:30.000Z</published>
    <updated>2024-09-06T11:06:32.406Z</updated>
    
    <content type="html"><![CDATA[<h1 id="JS逆向通用hook脚本"><a href="#JS逆向通用hook脚本" class="headerlink" title="JS逆向通用hook脚本"></a>JS逆向通用hook脚本</h1><h4 id="cookie-通用hook"><a href="#cookie-通用hook" class="headerlink" title="cookie 通用hook"></a><strong>cookie 通用hook</strong></h4><p>Cookie Hook 用于定位 Cookie 中关键参数生成位置，以下代码演示了当 Cookie 中匹配到了 v 关键字， 则插入断点</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> cookieTemp = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineproperty</span>(<span class="variable language_">document</span>, <span class="string">&#x27;cookie&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params">val</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (val.<span class="title function_">indexOf</span>(<span class="string">&#x27;v&#x27;</span>) != -<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">debugger</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hook捕获到cookie设置-&gt;&#x27;</span>, val);</span><br><span class="line">            cookieTemp = val;</span><br><span class="line">            <span class="keyword">return</span> val;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> cookieTemp;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h4 id="header-参数通用hook"><a href="#header-参数通用hook" class="headerlink" title="header 参数通用hook"></a><strong>header 参数通用hook</strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 头部参数 请求对象当中的 设为请求头部参数</span></span><br><span class="line">   <span class="keyword">var</span> org = <span class="variable language_">window</span>.<span class="property">XMLHttpRequest</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">setRequestHeader</span>;</span><br><span class="line">   <span class="variable language_">window</span>.<span class="property">XMLHttpRequest</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">setRequestHeader</span> = <span class="keyword">function</span> (<span class="params">key, value</span>) &#123;</span><br><span class="line">       <span class="comment">// 关键字 在请求当中发现有键是Authorization 断点</span></span><br><span class="line">       <span class="keyword">if</span> (key == <span class="string">&#x27;Authorization&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">debugger</span>;</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="keyword">return</span> org.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h4 id="hook过debugger"><a href="#hook过debugger" class="headerlink" title="hook过debugger"></a><strong>hook过debugger</strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 先保留原 constructor</span></span><br><span class="line"><span class="comment">// 1. 比如判断是否有该debugger词语，替换为同等长度的空格（避免判断长度）</span></span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor_</span> = <span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span>;</span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="keyword">function</span> (<span class="params">a</span>) &#123;</span><br><span class="line">    <span class="comment">// 如果参数为 debugger，就返回空方法</span></span><br><span class="line">    <span class="keyword">if</span>(a == <span class="string">&quot;debugger&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>)&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果参数不为 debugger，还是返回原方法</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">constructor_</span>(a);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 如果是定时器的<span class="keyword">debugger</span>采用以下语句</span><br><span class="line"><span class="comment">// 先保留原定时器</span></span><br><span class="line"><span class="keyword">var</span> setInterval_ = <span class="built_in">setInterval</span></span><br><span class="line"><span class="built_in">setInterval</span> = <span class="keyword">function</span> (<span class="params">func, time</span>)&#123;</span><br><span class="line">    <span class="comment">// 如果时间参数为 0x7d0，就返回空方法</span></span><br><span class="line">    <span class="comment">// 当然也可以不判断，直接返回空，有很多种写法</span></span><br><span class="line">    <span class="keyword">if</span>(time == <span class="number">0x7d0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果时间参数不为 0x7d0，还是返回原方法</span></span><br><span class="line">    <span class="keyword">return</span> setInterval_(func, time)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// eval(&quot;debugger;&quot;);</span></span><br></pre></td></tr></table></figure><h4 id="hook-URL"><a href="#hook-URL" class="headerlink" title="hook URL"></a><strong>hook URL</strong></h4><p>URL Hook 用于定位请求 URL 中关键参数生成位置，以下代码演示了当请求的 URL 里包含 login 关键字时，则插入断点：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> open = <span class="variable language_">window</span>.<span class="property">XMLHttpRequest</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">open</span>;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">XMLHttpRequest</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">open</span> = <span class="keyword">function</span> (<span class="params">method, url, <span class="keyword">async</span></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (url.<span class="title function_">indexOf</span>(<span class="string">&quot;login&quot;</span>) != -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">debugger</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> open.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h4 id="hook-JSON-stringify"><a href="#hook-JSON-stringify" class="headerlink" title="hook JSON.stringify"></a><strong>hook</strong> <strong>JSON</strong>.stringify</h4><p>JSON.stringify() 方法用于将 JavaScript 值转换为 JSON 字符串，在某些站点的加密过程中可能会遇到，以下代码演示了遇到 JSON.stringify() 时，则插入断点：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> stringify = <span class="title class_">JSON</span>.<span class="property">stringify</span>;</span><br><span class="line">    <span class="title class_">JSON</span>.<span class="property">stringify</span> = <span class="keyword">function</span>(<span class="params">params</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hook JSON.stringify ——&gt; &quot;</span>, params);</span><br><span class="line">        <span class="keyword">debugger</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">stringify</span>(params);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h4 id="hook-JSON-parse"><a href="#hook-JSON-parse" class="headerlink" title="hook JSON.parse"></a><strong>hook JSON.parse</strong></h4><p>JSON.parse() 方法用于将一个 JSON 字符串转换为对象，在某些站点的加密过程中可能会遇到，以下代码演示了遇到 JSON.parse() 时，则插入断点：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> parse = <span class="title class_">JSON</span>.<span class="property">parse</span>;</span><br><span class="line">    <span class="title class_">JSON</span>.<span class="property">parse</span> = <span class="keyword">function</span>(<span class="params">params</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hook JSON.parse ——&gt; &quot;</span>, params);</span><br><span class="line">        <span class="keyword">debugger</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">parse</span>(params);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h4 id="hook-eval"><a href="#hook-eval" class="headerlink" title="hook eval"></a><strong>hook eval</strong></h4><p>JavaScript eval() 函数的作用是计算 JavaScript 字符串，并把它作为脚本代码来执行。如果参数是一个表达式，eval() 函数将执行表达式。如果参数是 Javascript 语句，eval() 将执行 Javascript 语句，经常被用来动态执行 JS。以下代码执行后，之后所有的 eval() 操作都会在控制台打印输出将要执行的 JS 源码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 保存原始方法</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">__cr_eval</span> = <span class="variable language_">window</span>.<span class="property">eval</span>;</span><br><span class="line">    <span class="comment">// 重写 eval</span></span><br><span class="line">    <span class="keyword">var</span> myeval = <span class="keyword">function</span>(<span class="params">src</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(src);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;=============== eval end ===============&quot;</span>);</span><br><span class="line">        <span class="keyword">debugger</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">window</span>.<span class="title function_">__cr_eval</span>(src);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 屏蔽 JS 中对原生函数 native 属性的检测</span></span><br><span class="line">    <span class="keyword">var</span> _myeval = myeval.<span class="title function_">bind</span>(<span class="literal">null</span>);</span><br><span class="line">    _myeval.<span class="property">toString</span> = <span class="variable language_">window</span>.<span class="property">__cr_eval</span>.<span class="property">toString</span>;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(<span class="variable language_">window</span>, <span class="string">&#x27;eval&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">value</span>: _myeval</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h4 id="hook-Function"><a href="#hook-Function" class="headerlink" title="hook Function"></a><strong>hook Function</strong></h4><p>以下代码执行后，所有的函数操作都会在控制台打印输出将要执行的 JS 源码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">(function() &#123;</span><br><span class="line">    // 保存原始方法</span><br><span class="line">    window.__cr_fun = window.Function;</span><br><span class="line">    // 重写 function</span><br><span class="line">    var myfun = function() &#123;</span><br><span class="line">        var args = Array.prototype.slice.call(arguments, 0, -1).join(&quot;,&quot;),</span><br><span class="line">            src = arguments[arguments.length - 1];</span><br><span class="line">        console.log(src);</span><br><span class="line">        console.log(&quot;=============== Function end ===============&quot;);</span><br><span class="line">        debugger;</span><br><span class="line">        return window.__cr_fun.apply(this, arguments);</span><br><span class="line">    &#125;</span><br><span class="line">    // 屏蔽js中对原生函数native属性的检测</span><br><span class="line">    myfun.toString = function() &#123;</span><br><span class="line">        return window.__cr_fun + &quot;&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    Object.defineProperty(window, &#x27;Function&#x27;, &#123;</span><br><span class="line">        value: myfun</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h4 id="通用反调试"><a href="#通用反调试" class="headerlink" title="通用反调试"></a><strong>通用反调试</strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ==UserScript==</span></span><br><span class="line"><span class="comment">// @name         debugger</span></span><br><span class="line"><span class="comment">// @namespace    http://tampermonkey.net/</span></span><br><span class="line"><span class="comment">// @version      1</span></span><br><span class="line"><span class="comment">// @description  Stops most anti debugging implementations by JavaScript obfuscaters</span></span><br><span class="line"><span class="comment">// @author       ss</span></span><br><span class="line"><span class="comment">// @match        *</span></span><br><span class="line"><span class="comment">// @grant        unsafeWindow</span></span><br><span class="line"><span class="comment">// @run-at       document-start</span></span><br><span class="line"><span class="comment">// ==/UserScript==</span></span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> _constructor = unsafeWindow.<span class="property">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span>;</span><br><span class="line">    <span class="comment">// Hook Function.prototype.constructor</span></span><br><span class="line">    unsafeWindow.<span class="property">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> fnContent = <span class="variable language_">arguments</span>[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">if</span> (fnContent) &#123;</span><br><span class="line">            <span class="keyword">if</span> (fnContent.<span class="title function_">includes</span>(<span class="string">&#x27;debugger&#x27;</span>)) &#123; <span class="comment">// An anti-debugger is attempting to stop debugging</span></span><br><span class="line">                <span class="keyword">var</span> caller = <span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span>.<span class="property">caller</span>; <span class="comment">// Non-standard hack to get the function caller</span></span><br><span class="line">                <span class="keyword">var</span> callerContent = caller.<span class="title function_">toString</span>();</span><br><span class="line">                <span class="keyword">if</span> (callerContent.<span class="title function_">includes</span>(<span class="regexp">/\bdebugger\b/gi</span>)) &#123; <span class="comment">// Eliminate all debugger statements from the caller, if any</span></span><br><span class="line">                    callerContent = callerContent.<span class="title function_">replace</span>(<span class="regexp">/\bdebugger\b/gi</span>, <span class="string">&#x27;&#x27;</span>); <span class="comment">// Remove all debugger expressions</span></span><br><span class="line">                    <span class="built_in">eval</span>(<span class="string">&#x27;caller = &#x27;</span> + callerContent); <span class="comment">// Replace the function</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> (<span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Execute the normal function constructor if nothing unusual is going on</span></span><br><span class="line">        <span class="keyword">return</span> _constructor.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;JS逆向通用hook脚本&quot;&gt;&lt;a href=&quot;#JS逆向通用hook脚本&quot; class=&quot;headerlink&quot; title=&quot;JS逆向通用hook脚本&quot;&gt;&lt;/a&gt;JS逆向通用hook脚本&lt;/h1&gt;&lt;h4 id=&quot;cookie-通用hook&quot;&gt;&lt;a href=&quot;#</summary>
      
    
    
    
    
    <category term="JS逆向" scheme="https://ang-ing.github.io/tags/JS%E9%80%86%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>判断城市所在的省</title>
    <link href="https://ang-ing.github.io/2024/06/10/%E5%88%A4%E6%96%AD%E5%9F%8E%E5%B8%82%E6%89%80%E5%9C%A8%E7%9A%84%E7%9C%81/"/>
    <id>https://ang-ing.github.io/2024/06/10/%E5%88%A4%E6%96%AD%E5%9F%8E%E5%B8%82%E6%89%80%E5%9C%A8%E7%9A%84%E7%9C%81/</id>
    <published>2024-06-10T13:00:50.000Z</published>
    <updated>2024-06-10T13:17:37.740Z</updated>
    
    <content type="html"><![CDATA[<h1 id="判断城市所在的省"><a href="#判断城市所在的省" class="headerlink" title="判断城市所在的省"></a>判断城市所在的省</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_province_and_city</span>(<span class="params">city_name</span>):</span><br><span class="line">    area_data = &#123;</span><br><span class="line">        <span class="string">&#x27;北京市&#x27;</span>: [<span class="string">&#x27;北京市&#x27;</span>, <span class="string">&#x27;朝阳区&#x27;</span>, <span class="string">&#x27;海淀区&#x27;</span>, <span class="string">&#x27;通州区&#x27;</span>, <span class="string">&#x27;房山区&#x27;</span>, <span class="string">&#x27;丰台区&#x27;</span>, <span class="string">&#x27;昌平区&#x27;</span>, <span class="string">&#x27;大兴区&#x27;</span>, <span class="string">&#x27;顺义区&#x27;</span>, <span class="string">&#x27;西城区&#x27;</span>, <span class="string">&#x27;延庆县&#x27;</span>, <span class="string">&#x27;石景山区&#x27;</span>, <span class="string">&#x27;宣武区&#x27;</span>, <span class="string">&#x27;怀柔区&#x27;</span>, <span class="string">&#x27;崇文区&#x27;</span>, <span class="string">&#x27;密云县&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;东城区&#x27;</span>, <span class="string">&#x27;门头沟区&#x27;</span>, <span class="string">&#x27;平谷区&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;广东省&#x27;</span>: [<span class="string">&#x27;广东省&#x27;</span>, <span class="string">&#x27;东莞市&#x27;</span>, <span class="string">&#x27;广州市&#x27;</span>, <span class="string">&#x27;中山市&#x27;</span>, <span class="string">&#x27;深圳市&#x27;</span>, <span class="string">&#x27;惠州市&#x27;</span>, <span class="string">&#x27;江门市&#x27;</span>, <span class="string">&#x27;珠海市&#x27;</span>, <span class="string">&#x27;汕头市&#x27;</span>, <span class="string">&#x27;佛山市&#x27;</span>, <span class="string">&#x27;湛江市&#x27;</span>, <span class="string">&#x27;河源市&#x27;</span>, <span class="string">&#x27;肇庆市&#x27;</span>, <span class="string">&#x27;潮州市&#x27;</span>, <span class="string">&#x27;清远市&#x27;</span>, <span class="string">&#x27;韶关市&#x27;</span>, <span class="string">&#x27;揭阳市&#x27;</span>, <span class="string">&#x27;阳江市&#x27;</span>, <span class="string">&#x27;云浮市&#x27;</span>, <span class="string">&#x27;茂名市&#x27;</span>, <span class="string">&#x27;梅州市&#x27;</span>, <span class="string">&#x27;汕尾市&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;山东省&#x27;</span>: [<span class="string">&#x27;山东省&#x27;</span>, <span class="string">&#x27;济南市&#x27;</span>, <span class="string">&#x27;青岛市&#x27;</span>, <span class="string">&#x27;临沂市&#x27;</span>, <span class="string">&#x27;济宁市&#x27;</span>, <span class="string">&#x27;菏泽市&#x27;</span>, <span class="string">&#x27;烟台市&#x27;</span>, <span class="string">&#x27;泰安市&#x27;</span>, <span class="string">&#x27;淄博市&#x27;</span>, <span class="string">&#x27;潍坊市&#x27;</span>, <span class="string">&#x27;日照市&#x27;</span>, <span class="string">&#x27;威海市&#x27;</span>, <span class="string">&#x27;滨州市&#x27;</span>, <span class="string">&#x27;东营市&#x27;</span>, <span class="string">&#x27;聊城市&#x27;</span>, <span class="string">&#x27;德州市&#x27;</span>, <span class="string">&#x27;莱芜市&#x27;</span>, <span class="string">&#x27;枣庄市&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;江苏省&#x27;</span>: [<span class="string">&#x27;江苏省&#x27;</span>, <span class="string">&#x27;苏州市&#x27;</span>, <span class="string">&#x27;徐州市&#x27;</span>, <span class="string">&#x27;盐城市&#x27;</span>, <span class="string">&#x27;无锡市&#x27;</span>, <span class="string">&#x27;南京市&#x27;</span>, <span class="string">&#x27;南通市&#x27;</span>, <span class="string">&#x27;连云港市&#x27;</span>, <span class="string">&#x27;常州市&#x27;</span>, <span class="string">&#x27;扬州市&#x27;</span>, <span class="string">&#x27;镇江市&#x27;</span>, <span class="string">&#x27;淮安市&#x27;</span>, <span class="string">&#x27;泰州市&#x27;</span>, <span class="string">&#x27;宿迁市&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;河南省&#x27;</span>: [<span class="string">&#x27;河南省&#x27;</span>, <span class="string">&#x27;郑州市&#x27;</span>, <span class="string">&#x27;南阳市&#x27;</span>, <span class="string">&#x27;新乡市&#x27;</span>, <span class="string">&#x27;安阳市&#x27;</span>, <span class="string">&#x27;洛阳市&#x27;</span>, <span class="string">&#x27;信阳市&#x27;</span>, <span class="string">&#x27;平顶山市&#x27;</span>, <span class="string">&#x27;周口市&#x27;</span>, <span class="string">&#x27;商丘市&#x27;</span>, <span class="string">&#x27;开封市&#x27;</span>, <span class="string">&#x27;焦作市&#x27;</span>, <span class="string">&#x27;驻马店市&#x27;</span>, <span class="string">&#x27;濮阳市&#x27;</span>, <span class="string">&#x27;三门峡市&#x27;</span>, <span class="string">&#x27;漯河市&#x27;</span>, <span class="string">&#x27;许昌市&#x27;</span>, <span class="string">&#x27;鹤壁市&#x27;</span>, <span class="string">&#x27;济源市&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;上海市&#x27;</span>: [<span class="string">&#x27;上海市&#x27;</span>, <span class="string">&#x27;松江区&#x27;</span>, <span class="string">&#x27;宝山区&#x27;</span>, <span class="string">&#x27;金山区&#x27;</span>, <span class="string">&#x27;嘉定区&#x27;</span>, <span class="string">&#x27;南汇区&#x27;</span>, <span class="string">&#x27;青浦区&#x27;</span>, <span class="string">&#x27;浦东新区&#x27;</span>, <span class="string">&#x27;奉贤区&#x27;</span>, <span class="string">&#x27;闵行区&#x27;</span>, <span class="string">&#x27;徐汇区&#x27;</span>, <span class="string">&#x27;静安区&#x27;</span>, <span class="string">&#x27;黄浦区&#x27;</span>, <span class="string">&#x27;普陀区&#x27;</span>, <span class="string">&#x27;杨浦区&#x27;</span>, <span class="string">&#x27;虹口区&#x27;</span>, <span class="string">&#x27;闸北区&#x27;</span>, <span class="string">&#x27;长宁区&#x27;</span>, <span class="string">&#x27;崇明县&#x27;</span>, <span class="string">&#x27;卢湾区&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;河北省&#x27;</span>: [<span class="string">&#x27;河北省&#x27;</span>, <span class="string">&#x27;石家庄市&#x27;</span>, <span class="string">&#x27;唐山市&#x27;</span>, <span class="string">&#x27;保定市&#x27;</span>, <span class="string">&#x27;邯郸市&#x27;</span>, <span class="string">&#x27;邢台市&#x27;</span>, <span class="string">&#x27;河北区&#x27;</span>, <span class="string">&#x27;沧州市&#x27;</span>, <span class="string">&#x27;秦皇岛市&#x27;</span>, <span class="string">&#x27;张家口市&#x27;</span>, <span class="string">&#x27;衡水市&#x27;</span>, <span class="string">&#x27;廊坊市&#x27;</span>, <span class="string">&#x27;承德市&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;浙江省&#x27;</span>: [<span class="string">&#x27;浙江省&#x27;</span>, <span class="string">&#x27;温州市&#x27;</span>, <span class="string">&#x27;宁波市&#x27;</span>, <span class="string">&#x27;杭州市&#x27;</span>, <span class="string">&#x27;台州市&#x27;</span>, <span class="string">&#x27;嘉兴市&#x27;</span>, <span class="string">&#x27;金华市&#x27;</span>, <span class="string">&#x27;湖州市&#x27;</span>, <span class="string">&#x27;绍兴市&#x27;</span>, <span class="string">&#x27;舟山市&#x27;</span>, <span class="string">&#x27;丽水市&#x27;</span>, <span class="string">&#x27;衢州市&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;陕西省&#x27;</span>: [<span class="string">&#x27;陕西省&#x27;</span>, <span class="string">&#x27;西安市&#x27;</span>, <span class="string">&#x27;咸阳市&#x27;</span>, <span class="string">&#x27;宝鸡市&#x27;</span>, <span class="string">&#x27;汉中市&#x27;</span>, <span class="string">&#x27;渭南市&#x27;</span>, <span class="string">&#x27;安康市&#x27;</span>, <span class="string">&#x27;榆林市&#x27;</span>, <span class="string">&#x27;商洛市&#x27;</span>, <span class="string">&#x27;延安市&#x27;</span>, <span class="string">&#x27;铜川市&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;湖南省&#x27;</span>: [<span class="string">&#x27;湖南省&#x27;</span>, <span class="string">&#x27;长沙市&#x27;</span>, <span class="string">&#x27;邵阳市&#x27;</span>, <span class="string">&#x27;常德市&#x27;</span>, <span class="string">&#x27;衡阳市&#x27;</span>, <span class="string">&#x27;株洲市&#x27;</span>, <span class="string">&#x27;湘潭市&#x27;</span>, <span class="string">&#x27;永州市&#x27;</span>, <span class="string">&#x27;岳阳市&#x27;</span>, <span class="string">&#x27;怀化市&#x27;</span>, <span class="string">&#x27;郴州市&#x27;</span>, <span class="string">&#x27;娄底市&#x27;</span>, <span class="string">&#x27;益阳市&#x27;</span>, <span class="string">&#x27;张家界市&#x27;</span>, <span class="string">&#x27;湘西州&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;重庆市&#x27;</span>: [<span class="string">&#x27;重庆市&#x27;</span>, <span class="string">&#x27;江北区&#x27;</span>, <span class="string">&#x27;渝北区&#x27;</span>, <span class="string">&#x27;沙坪坝区&#x27;</span>, <span class="string">&#x27;九龙坡区&#x27;</span>, <span class="string">&#x27;万州区&#x27;</span>, <span class="string">&#x27;永川市&#x27;</span>, <span class="string">&#x27;南岸区&#x27;</span>, <span class="string">&#x27;酉阳县&#x27;</span>, <span class="string">&#x27;北碚区&#x27;</span>, <span class="string">&#x27;涪陵区&#x27;</span>, <span class="string">&#x27;秀山县&#x27;</span>, <span class="string">&#x27;巴南区&#x27;</span>, <span class="string">&#x27;渝中区&#x27;</span>, <span class="string">&#x27;石柱县&#x27;</span>, <span class="string">&#x27;忠县&#x27;</span>, <span class="string">&#x27;合川市&#x27;</span>, <span class="string">&#x27;大渡口区&#x27;</span>, <span class="string">&#x27;开县&#x27;</span>, <span class="string">&#x27;长寿区&#x27;</span>, <span class="string">&#x27;荣昌县&#x27;</span>, <span class="string">&#x27;云阳县&#x27;</span>, <span class="string">&#x27;梁平县&#x27;</span>, <span class="string">&#x27;潼南县&#x27;</span>, <span class="string">&#x27;江津市&#x27;</span>, <span class="string">&#x27;彭水县&#x27;</span>, <span class="string">&#x27;璧山县&#x27;</span>, <span class="string">&#x27;綦江县&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;大足县&#x27;</span>, <span class="string">&#x27;黔江区&#x27;</span>, <span class="string">&#x27;巫溪县&#x27;</span>, <span class="string">&#x27;巫山县&#x27;</span>, <span class="string">&#x27;垫江县&#x27;</span>, <span class="string">&#x27;丰都县&#x27;</span>, <span class="string">&#x27;武隆县&#x27;</span>, <span class="string">&#x27;万盛区&#x27;</span>, <span class="string">&#x27;铜梁县&#x27;</span>, <span class="string">&#x27;南川市&#x27;</span>, <span class="string">&#x27;奉节县&#x27;</span>, <span class="string">&#x27;双桥区&#x27;</span>, <span class="string">&#x27;城口县&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;福建省&#x27;</span>: [<span class="string">&#x27;福建省&#x27;</span>, <span class="string">&#x27;漳州市&#x27;</span>, <span class="string">&#x27;泉州市&#x27;</span>, <span class="string">&#x27;厦门市&#x27;</span>, <span class="string">&#x27;福州市&#x27;</span>, <span class="string">&#x27;莆田市&#x27;</span>, <span class="string">&#x27;宁德市&#x27;</span>, <span class="string">&#x27;三明市&#x27;</span>, <span class="string">&#x27;南平市&#x27;</span>, <span class="string">&#x27;龙岩市&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;天津市&#x27;</span>: [<span class="string">&#x27;天津市&#x27;</span>, <span class="string">&#x27;和平区&#x27;</span>, <span class="string">&#x27;北辰区&#x27;</span>, <span class="string">&#x27;河北区&#x27;</span>, <span class="string">&#x27;河西区&#x27;</span>, <span class="string">&#x27;西青区&#x27;</span>, <span class="string">&#x27;津南区&#x27;</span>, <span class="string">&#x27;东丽区&#x27;</span>, <span class="string">&#x27;武清区&#x27;</span>, <span class="string">&#x27;宝坻区&#x27;</span>, <span class="string">&#x27;红桥区&#x27;</span>, <span class="string">&#x27;大港区&#x27;</span>, <span class="string">&#x27;汉沽区&#x27;</span>, <span class="string">&#x27;静海县&#x27;</span>, <span class="string">&#x27;宁河县&#x27;</span>, <span class="string">&#x27;塘沽区&#x27;</span>, <span class="string">&#x27;蓟县&#x27;</span>, <span class="string">&#x27;南开区&#x27;</span>, <span class="string">&#x27;河东区&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;云南省&#x27;</span>: [<span class="string">&#x27;云南省&#x27;</span>, <span class="string">&#x27;昆明市&#x27;</span>, <span class="string">&#x27;红河州&#x27;</span>, <span class="string">&#x27;大理州&#x27;</span>, <span class="string">&#x27;文山州&#x27;</span>, <span class="string">&#x27;德宏州&#x27;</span>, <span class="string">&#x27;曲靖市&#x27;</span>, <span class="string">&#x27;昭通市&#x27;</span>, <span class="string">&#x27;楚雄州&#x27;</span>, <span class="string">&#x27;保山市&#x27;</span>, <span class="string">&#x27;玉溪市&#x27;</span>, <span class="string">&#x27;丽江地区&#x27;</span>, <span class="string">&#x27;临沧地区&#x27;</span>, <span class="string">&#x27;思茅地区&#x27;</span>, <span class="string">&#x27;西双版纳州&#x27;</span>, <span class="string">&#x27;怒江州&#x27;</span>, <span class="string">&#x27;迪庆州&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;四川省&#x27;</span>: [<span class="string">&#x27;四川省&#x27;</span>, <span class="string">&#x27;成都市&#x27;</span>, <span class="string">&#x27;绵阳市&#x27;</span>, <span class="string">&#x27;广元市&#x27;</span>, <span class="string">&#x27;达州市&#x27;</span>, <span class="string">&#x27;南充市&#x27;</span>, <span class="string">&#x27;德阳市&#x27;</span>, <span class="string">&#x27;广安市&#x27;</span>, <span class="string">&#x27;阿坝州&#x27;</span>, <span class="string">&#x27;巴中市&#x27;</span>, <span class="string">&#x27;遂宁市&#x27;</span>, <span class="string">&#x27;内江市&#x27;</span>, <span class="string">&#x27;凉山州&#x27;</span>, <span class="string">&#x27;攀枝花市&#x27;</span>, <span class="string">&#x27;乐山市&#x27;</span>, <span class="string">&#x27;自贡市&#x27;</span>, <span class="string">&#x27;泸州市&#x27;</span>, <span class="string">&#x27;雅安市&#x27;</span>, <span class="string">&#x27;宜宾市&#x27;</span>, <span class="string">&#x27;资阳市&#x27;</span>, <span class="string">&#x27;眉山市&#x27;</span>, <span class="string">&#x27;甘孜州&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;广西壮族自治区&#x27;</span>: [<span class="string">&#x27;广西壮族自治区&#x27;</span>, <span class="string">&#x27;贵港市&#x27;</span>, <span class="string">&#x27;玉林市&#x27;</span>, <span class="string">&#x27;北海市&#x27;</span>, <span class="string">&#x27;南宁市&#x27;</span>, <span class="string">&#x27;柳州市&#x27;</span>, <span class="string">&#x27;桂林市&#x27;</span>, <span class="string">&#x27;梧州市&#x27;</span>, <span class="string">&#x27;钦州市&#x27;</span>, <span class="string">&#x27;来宾市&#x27;</span>, <span class="string">&#x27;河池市&#x27;</span>, <span class="string">&#x27;百色市&#x27;</span>, <span class="string">&#x27;贺州市&#x27;</span>, <span class="string">&#x27;崇左市&#x27;</span>,  <span class="string">&#x27;防城港市&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;安徽省&#x27;</span>: [<span class="string">&#x27;安徽省&#x27;</span>, <span class="string">&#x27;芜湖市&#x27;</span>, <span class="string">&#x27;合肥市&#x27;</span>, <span class="string">&#x27;六安市&#x27;</span>, <span class="string">&#x27;宿州市&#x27;</span>, <span class="string">&#x27;阜阳市&#x27;</span>, <span class="string">&#x27;安庆市&#x27;</span>, <span class="string">&#x27;马鞍山市&#x27;</span>, <span class="string">&#x27;蚌埠市&#x27;</span>, <span class="string">&#x27;淮北市&#x27;</span>, <span class="string">&#x27;淮南市&#x27;</span>, <span class="string">&#x27;宣城市&#x27;</span>, <span class="string">&#x27;黄山市&#x27;</span>, <span class="string">&#x27;铜陵市&#x27;</span>, <span class="string">&#x27;亳州市&#x27;</span>, <span class="string">&#x27;池州市&#x27;</span>, <span class="string">&#x27;巢湖市&#x27;</span>, <span class="string">&#x27;滁州市&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;海南省&#x27;</span>: [<span class="string">&#x27;海南省&#x27;</span>, <span class="string">&#x27;三亚市&#x27;</span>, <span class="string">&#x27;海口市&#x27;</span>, <span class="string">&#x27;琼海市&#x27;</span>, <span class="string">&#x27;文昌市&#x27;</span>, <span class="string">&#x27;东方市&#x27;</span>, <span class="string">&#x27;昌江县&#x27;</span>, <span class="string">&#x27;陵水县&#x27;</span>, <span class="string">&#x27;乐东县&#x27;</span>, <span class="string">&#x27;五指山市&#x27;</span>, <span class="string">&#x27;保亭县&#x27;</span>, <span class="string">&#x27;澄迈县&#x27;</span>, <span class="string">&#x27;万宁市&#x27;</span>, <span class="string">&#x27;儋州市&#x27;</span>, <span class="string">&#x27;临高县&#x27;</span>, <span class="string">&#x27;白沙县&#x27;</span>, <span class="string">&#x27;定安县&#x27;</span>, <span class="string">&#x27;琼中县&#x27;</span>, <span class="string">&#x27;屯昌县&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;江西省&#x27;</span>: [<span class="string">&#x27;江西省&#x27;</span>, <span class="string">&#x27;南昌市&#x27;</span>, <span class="string">&#x27;赣州市&#x27;</span>, <span class="string">&#x27;上饶市&#x27;</span>, <span class="string">&#x27;吉安市&#x27;</span>, <span class="string">&#x27;九江市&#x27;</span>, <span class="string">&#x27;新余市&#x27;</span>, <span class="string">&#x27;抚州市&#x27;</span>, <span class="string">&#x27;宜春市&#x27;</span>, <span class="string">&#x27;景德镇市&#x27;</span>, <span class="string">&#x27;萍乡市&#x27;</span>, <span class="string">&#x27;鹰潭市&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;湖北省&#x27;</span>: [<span class="string">&#x27;湖北省&#x27;</span>, <span class="string">&#x27;武汉市&#x27;</span>, <span class="string">&#x27;宜昌市&#x27;</span>, <span class="string">&#x27;襄樊市&#x27;</span>, <span class="string">&#x27;荆州市&#x27;</span>, <span class="string">&#x27;恩施州&#x27;</span>, <span class="string">&#x27;孝感市&#x27;</span>, <span class="string">&#x27;黄冈市&#x27;</span>, <span class="string">&#x27;十堰市&#x27;</span>, <span class="string">&#x27;咸宁市&#x27;</span>, <span class="string">&#x27;黄石市&#x27;</span>, <span class="string">&#x27;仙桃市&#x27;</span>, <span class="string">&#x27;随州市&#x27;</span>, <span class="string">&#x27;天门市&#x27;</span>, <span class="string">&#x27;荆门市&#x27;</span>, <span class="string">&#x27;潜江市&#x27;</span>, <span class="string">&#x27;鄂州市&#x27;</span>, <span class="string">&#x27;神农架林区&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;山西省&#x27;</span>: [<span class="string">&#x27;山西省&#x27;</span>, <span class="string">&#x27;太原市&#x27;</span>, <span class="string">&#x27;大同市&#x27;</span>, <span class="string">&#x27;运城市&#x27;</span>, <span class="string">&#x27;长治市&#x27;</span>, <span class="string">&#x27;晋城市&#x27;</span>, <span class="string">&#x27;忻州市&#x27;</span>, <span class="string">&#x27;临汾市&#x27;</span>, <span class="string">&#x27;吕梁市&#x27;</span>, <span class="string">&#x27;晋中市&#x27;</span>, <span class="string">&#x27;阳泉市&#x27;</span>, <span class="string">&#x27;朔州市&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;辽宁省&#x27;</span>: [<span class="string">&#x27;辽宁省&#x27;</span>, <span class="string">&#x27;大连市&#x27;</span>, <span class="string">&#x27;沈阳市&#x27;</span>, <span class="string">&#x27;丹东市&#x27;</span>, <span class="string">&#x27;辽阳市&#x27;</span>, <span class="string">&#x27;葫芦岛市&#x27;</span>, <span class="string">&#x27;锦州市&#x27;</span>, <span class="string">&#x27;朝阳市&#x27;</span>, <span class="string">&#x27;营口市&#x27;</span>, <span class="string">&#x27;鞍山市&#x27;</span>, <span class="string">&#x27;抚顺市&#x27;</span>, <span class="string">&#x27;阜新市&#x27;</span>, <span class="string">&#x27;本溪市&#x27;</span>, <span class="string">&#x27;盘锦市&#x27;</span>, <span class="string">&#x27;铁岭市&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;台湾省&#x27;</span>: [<span class="string">&#x27;台湾省&#x27;</span>, <span class="string">&#x27;台北市&#x27;</span>, <span class="string">&#x27;高雄市&#x27;</span>, <span class="string">&#x27;台中市&#x27;</span>, <span class="string">&#x27;新竹市&#x27;</span>, <span class="string">&#x27;基隆市&#x27;</span>, <span class="string">&#x27;台南市&#x27;</span>, <span class="string">&#x27;嘉义市&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;黑龙江省&#x27;</span>: [<span class="string">&#x27;黑龙江省&#x27;</span>, <span class="string">&#x27;齐齐哈尔市&#x27;</span>, <span class="string">&#x27;哈尔滨市&#x27;</span>, <span class="string">&#x27;大庆市&#x27;</span>, <span class="string">&#x27;佳木斯市&#x27;</span>, <span class="string">&#x27;双鸭山市&#x27;</span>, <span class="string">&#x27;牡丹江市&#x27;</span>, <span class="string">&#x27;鸡西市&#x27;</span>, <span class="string">&#x27;黑河市&#x27;</span>, <span class="string">&#x27;绥化市&#x27;</span>, <span class="string">&#x27;鹤岗市&#x27;</span>, <span class="string">&#x27;伊春市&#x27;</span>, <span class="string">&#x27;大兴安岭地区&#x27;</span>, <span class="string">&#x27;七台河市&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;内蒙古自治区&#x27;</span>: [<span class="string">&#x27;内蒙古自治区&#x27;</span>, <span class="string">&#x27;赤峰市&#x27;</span>, <span class="string">&#x27;包头市&#x27;</span>, <span class="string">&#x27;通辽市&#x27;</span>, <span class="string">&#x27;呼和浩特市&#x27;</span>, <span class="string">&#x27;乌海市&#x27;</span>, <span class="string">&#x27;鄂尔多斯市&#x27;</span>, <span class="string">&#x27;呼伦贝尔市&#x27;</span>, <span class="string">&#x27;兴安盟&#x27;</span>, <span class="string">&#x27;巴彦淖尔盟&#x27;</span>, <span class="string">&#x27;乌兰察布盟&#x27;</span>, <span class="string">&#x27;锡林郭勒盟&#x27;</span>, <span class="string">&#x27;阿拉善盟&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;香港特别行政区&#x27;</span>: [<span class="string">&quot;香港特别行政区&quot;</span>],</span><br><span class="line">        <span class="string">&#x27;澳门特别行政区&#x27;</span>: [<span class="string">&#x27;澳门特别行政区&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;贵州省&#x27;</span>: [<span class="string">&#x27;贵州省&#x27;</span>, <span class="string">&#x27;贵阳市&#x27;</span>, <span class="string">&#x27;黔东南州&#x27;</span>, <span class="string">&#x27;黔南州&#x27;</span>, <span class="string">&#x27;遵义市&#x27;</span>, <span class="string">&#x27;黔西南州&#x27;</span>, <span class="string">&#x27;毕节地区&#x27;</span>, <span class="string">&#x27;铜仁地区&#x27;</span>, <span class="string">&#x27;安顺市&#x27;</span>, <span class="string">&#x27;六盘水市&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;甘肃省&#x27;</span>: [<span class="string">&#x27;甘肃省&#x27;</span>, <span class="string">&#x27;兰州市&#x27;</span>, <span class="string">&#x27;天水市&#x27;</span>, <span class="string">&#x27;庆阳市&#x27;</span>, <span class="string">&#x27;武威市&#x27;</span>, <span class="string">&#x27;酒泉市&#x27;</span>, <span class="string">&#x27;张掖市&#x27;</span>, <span class="string">&#x27;陇南地区&#x27;</span>, <span class="string">&#x27;白银市&#x27;</span>, <span class="string">&#x27;定西地区&#x27;</span>, <span class="string">&#x27;平凉市&#x27;</span>, <span class="string">&#x27;嘉峪关市&#x27;</span>, <span class="string">&#x27;临夏回族自治州&#x27;</span>, <span class="string">&#x27;金昌市&#x27;</span>, <span class="string">&#x27;甘南州&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;青海省&#x27;</span>: [<span class="string">&#x27;青海省&#x27;</span>, <span class="string">&#x27;西宁市&#x27;</span>, <span class="string">&#x27;海西州&#x27;</span>, <span class="string">&#x27;海东地区&#x27;</span>, <span class="string">&#x27;海北州&#x27;</span>, <span class="string">&#x27;果洛州&#x27;</span>, <span class="string">&#x27;玉树州&#x27;</span>, <span class="string">&#x27;黄南藏族自治州&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;新疆维吾尔自治区&#x27;</span>: [<span class="string">&#x27;新疆维吾尔自治区&#x27;</span>, <span class="string">&#x27;乌鲁木齐市&#x27;</span>, <span class="string">&#x27;伊犁州&#x27;</span>, <span class="string">&#x27;昌吉州&#x27;</span>, <span class="string">&#x27;石河子市&#x27;</span>, <span class="string">&#x27;哈密地区&#x27;</span>, <span class="string">&#x27;阿克苏地区&#x27;</span>, <span class="string">&#x27;巴音郭楞州&#x27;</span>, <span class="string">&#x27;喀什地区&#x27;</span>, <span class="string">&#x27;塔城地区&#x27;</span>, <span class="string">&#x27;克拉玛依市&#x27;</span>, <span class="string">&#x27;和田地区&#x27;</span>, <span class="string">&#x27;阿勒泰州&#x27;</span>, <span class="string">&#x27;吐鲁番地区&#x27;</span>, <span class="string">&#x27;阿拉尔市&#x27;</span>, <span class="string">&#x27;博尔塔拉州&#x27;</span>, <span class="string">&#x27;五家渠市&#x27;</span>,</span><br><span class="line">                     <span class="string">&#x27;克孜勒苏州&#x27;</span>, <span class="string">&#x27;图木舒克市&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;西藏自治区&#x27;</span>: [<span class="string">&#x27;西藏自治区&#x27;</span>, <span class="string">&#x27;拉萨市&#x27;</span>, <span class="string">&#x27;山南地区&#x27;</span>, <span class="string">&#x27;林芝地区&#x27;</span>, <span class="string">&#x27;日喀则地区&#x27;</span>, <span class="string">&#x27;阿里地区&#x27;</span>, <span class="string">&#x27;昌都地区&#x27;</span>, <span class="string">&#x27;那曲地区&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;吉林省&#x27;</span>: [<span class="string">&#x27;吉林省&#x27;</span>, <span class="string">&#x27;吉林市&#x27;</span>, <span class="string">&#x27;长春市&#x27;</span>, <span class="string">&#x27;白山市&#x27;</span>, <span class="string">&#x27;白城市&#x27;</span>, <span class="string">&#x27;延边州&#x27;</span>, <span class="string">&#x27;松原市&#x27;</span>, <span class="string">&#x27;辽源市&#x27;</span>, <span class="string">&#x27;通化市&#x27;</span>, <span class="string">&#x27;四平市&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;宁夏回族自治区&#x27;</span>: [<span class="string">&#x27;宁夏回族自治区&#x27;</span>, <span class="string">&#x27;银川市&#x27;</span>, <span class="string">&#x27;吴忠市&#x27;</span>, <span class="string">&#x27;中卫市&#x27;</span>, <span class="string">&#x27;石嘴山市&#x27;</span>, <span class="string">&#x27;固原市&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> province, cities <span class="keyword">in</span> area_data.items():</span><br><span class="line">        <span class="keyword">if</span> city_name <span class="keyword">in</span> cities:</span><br><span class="line">            <span class="keyword">if</span> city_name == province:</span><br><span class="line">                <span class="keyword">return</span> city_name</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="string">f&#x27;<span class="subst">&#123;province&#125;</span><span class="subst">&#123;city_name&#125;</span>&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>  <span class="comment"># 如果找不到匹配的城市名，返回空</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;判断城市所在的省&quot;&gt;&lt;a href=&quot;#判断城市所在的省&quot; class=&quot;headerlink&quot; title=&quot;判断城市所在的省&quot;&gt;&lt;/a&gt;判断城市所在的省&lt;/h1&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td c</summary>
      
    
    
    
    
    <category term="python" scheme="https://ang-ing.github.io/tags/python/"/>
    
  </entry>
  
</feed>
